{"version":3,"sources":["modal.js"],"names":[],"mappings":";AAAA","file":"modal.min.js","sourcesContent":["let modalInitiate = function() {\n  let link = document.querySelector(\".button-js\");\n  let popup = document.querySelector(\".modal\");\n  let overlay = document.querySelector(\".overlay\");\n  let close = document.querySelector(\".modal__close-btn\");\n  let lastFocus;\n\n  if (!link || !popup || !overlay || !close) return;\n\n  let modalShow = function() {\n    popup.classList.add(\"modal--show\");\n    overlay.classList.add(\"overlay--show\");\n    lastFocus = document.activeElement;\n    popup.setAttribute(\"tabindex\", \"0\");\n    popup.focus();\n  };\n\n  let modalClose = function() {\n    popup.classList.remove(\"modal--show\");\n    overlay.classList.remove(\"overlay--show\");\n    lastFocus.focus();\n  };\n\n  link.addEventListener(\"click\", function(event) {\n    event.preventDefault();\n    modalShow();\n  });\n\n  close.addEventListener(\"click\", function(event) {\n    event.preventDefault();\n    modalClose();\n  });\n\n  overlay.addEventListener(\"click\", function(event) {\n    event.preventDefault();\n    modalClose();\n  });\n\n  document.addEventListener(\"keyup\", function(event) {\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    var key = event.keyCode;\n\n    if (key === \"Escape\" || key === \"Esc\" || key === 27) {\n      event.preventDefault();\n      if (popup.classList.contains(\"modal--show\")) {\n        modalClose();\n      }\n    }\n  });\n};\n\nmodalInitiate();\n"]}